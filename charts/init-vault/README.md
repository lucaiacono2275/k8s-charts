# init-vault

![Version: 0.1.0](https://img.shields.io/badge/Version-0.1.0-informational?style=flat-square)

A Helm chart that launches a job to init vault.

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| lucaiacono2275 |  |  |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| extraFiles.configMap | object | `{}` | optional ConfigMap containing files configuration |
| extraFiles.enabled | bool | `false` |  |
| extraFiles.existingConfigMap | string | `""` |  |
| extraFiles.existingSecret | string | `""` |  |
| extraFiles.existingVolume | string | `""` | Name of an existing volume to mount (optional) |
| extraFiles.mountPath | string | `"/extra-files"` | Path to mount the extra files |
| extraFiles.readOnly | bool | `true` |  |
| extraFiles.secret | object | `{}` | Optional Secret containing files configuration |
| image.repository | string | `"hashicorp/vault"` |  |
| image.tag | string | `"latest"` |  |
| jobName | string | `"vault-config-job"` |  |
| nfs.accessModes[0] | string | `"ReadOnlyMany"` |  |
| nfs.enabled | bool | `true` |  |
| nfs.path | string | `"/exports/vault-scripts"` |  |
| nfs.server | string | `"nfs.example.local"` |  |
| nfs.storage | string | `"1Gi"` |  |
| prepareScript.repository | string | `"busybox"` |  |
| prepareScript.tag | string | `"latest"` |  |
| script | string | `"export VAULT_ADDR=\"{{ .Values.vault.address }}\"\nVAULT_ROOT_TOKEN=$(cat {{ .Values.vault.rootTokenSecret.mountPath }}/{{ .Values.vault.rootTokenSecret.fileName }})\nvault login $VAULT_ROOT_TOKEN\nvault secrets enable -path=kv kv\nvault kv put kv/mysecret password=\"supersecret\"\n"` |  |
| scriptDir | string | `"/scripts"` |  |
| scriptFile | string | `"script.sh"` |  |
| vault.address | string | `"http://vault-0.vault.svc.cluster.local:8200"` |  |
| vault.rootTokenSecret.fileName | string | `"vault-root-token"` |  |
| vault.rootTokenSecret.key | string | `"vault-root"` |  |
| vault.rootTokenSecret.mountPath | string | `"/vault/creds"` |  |
| vault.rootTokenSecret.name | string | `"vault-unseal-keys"` |  |
| vault.tlsSecret.name | string | `"vault-tls"` |  |
| waitForSecret.enabled | bool | `true` |  |
| waitForSecret.repository | string | `"bitnami/kubectl"` |  |
| waitForSecret.tag | string | `"latest"` |  |
| waitForSecret.timeoutSeconds | int | `300` |  |
| waitForVault.enabled | bool | `true` |  |
| waitForVault.podName | string | `"vault-0"` |  |
| waitForVault.repository | string | `"bitnami/kubectl"` |  |
| waitForVault.tag | string | `"latest"` |  |
| waitForVault.timeoutSeconds | int | `300` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)
