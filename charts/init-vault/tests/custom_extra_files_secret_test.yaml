suite: customExtraFilesSecret

templates:
  - templates/extra-files-secret.yaml

# This test checks that a custom secret is rendered when enabled and data is provided

tests:
  - it: should render a custom extra files secret
    values:
      - values/custom-extra-files-secret.yaml
    asserts:
      - hasDocuments:
          count: 1
      - isKind:
          of: Secret
      - equal:
          path: metadata.name
          value: my-custom-secret
      - equal:
          path: stringData
          value:
            file1.txt: "hello world"
            file2.conf: "key: value"
