suite: metallb-config empty pools

tests:
  - it: should render no IPAddressPool when addressPools is empty
    templates:
      - templates/addresspool.yaml
    values:
      - values/empty-pools.yaml
    asserts:
      - hasDocuments:
          count: 0

  - it: should still render L2Advertisement when addressPools is empty
    templates:
      - templates/advertisement.yaml
    values:
      - values/empty-pools.yaml
    asserts:
      - hasDocuments:
          count: 1
      - isKind:
          of: L2Advertisement
      - equal:
          path: metadata.name
          value: adv-empty
